{"remainingRequest":"D:\\BalaBala\\app-bala\\node_modules\\babel-loader\\lib\\index.js!D:\\BalaBala\\app-bala\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\BalaBala\\app-bala\\src\\components\\recommend\\recomDetail.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\BalaBala\\app-bala\\src\\components\\recommend\\recomDetail.vue","mtime":1541240306856},{"path":"D:\\BalaBala\\app-bala\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853417000},{"path":"D:\\BalaBala\\app-bala\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\BalaBala\\app-bala\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from 'mint-ui';\nexport default {\n  data: function data() {\n    return {\n      selected: '2',\n      rid: this.$route.params.rid,\n      vlist: {},\n      comList: [],\n      msg: \"\",\n      obj: {}\n    };\n  },\n  methods: {\n    postComment: function postComment() {\n      var _this = this;\n\n      var rid = this.rid;\n      console.log(rid);\n      var content = this.msg;\n      var userName = \"匿名用户\";\n      var userImg = \"http://127.0.0.1:8000/img/u18.jpg\";\n      var url = \"recommendlist/saveComment\";\n      this.obj = {\n        rid: rid,\n        userName: userName,\n        content: content,\n        userImg: userImg\n      };\n\n      if (this.obj != undefined) {\n        console.log(this.obj);\n        this.$http.post(url, this.obj).then(function (result) {\n          //console.log(result);\n          if (result.body.code == 1) {\n            _this.msg = \"\";\n            Toast(\"添加成功\");\n\n            _this.getCommonList();\n          } else {\n            Toast(result.body.msg);\n          }\n        });\n        console.log(1111);\n      }\n    },\n    getRecommendlist: function getRecommendlist() {\n      var _this2 = this;\n\n      var url = \"recommendlist/list?rid=\" + this.rid;\n      this.$http.get(url).then(function (result) {\n        console.log(result);\n\n        if (result.body.code == 1) {\n          _this2.vlist = result.body.msg[0];\n          console.log(_this2.vlist);\n        } else {\n          Toast(\"加载推荐列表失败\");\n        }\n      });\n    },\n    getCommonList: function getCommonList() {\n      var _this3 = this;\n\n      var url = \"recommendlist/detail?rid=\" + this.rid;\n      this.$http.get(url).then(function (result) {\n        console.log(result);\n\n        if (result.body.code == 1) {\n          _this3.comList = result.body.msg;\n\n          _this3.comList.reverse(); //    this.comlist=this.comlist.unshift(result.body.msg);\n\n        }\n      });\n    }\n  },\n  created: function created() {\n    this.getCommonList();\n    this.getRecommendlist();\n  }\n};",{"version":3,"sources":["recomDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,SAAA,KAAA,QAAA,SAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,gBAAA,GADA;AAEA,WAAA,KAAA,MAAA,CAAA,MAAA,CAAA,GAFA;AAGA,aAAA,EAHA;AAIA,eAAA,EAJA;AAKA,WAAA,EALA;AAMA,WAAA;AANA,KAAA;AAQA,GAVA;AAWA,WAAA;AACA,eADA,yBACA;AAAA;;AACA,UAAA,MAAA,KAAA,GAAA;AACA,cAAA,GAAA,CAAA,GAAA;AACA,UAAA,UAAA,KAAA,GAAA;AACA,UAAA,WAAA,MAAA;AACA,UAAA,UAAA,mCAAA;AACA,UAAA,MAAA,2BAAA;AACA,WAAA,GAAA,GAAA;AAAA,aAAA,GAAA;AAAA,kBAAA,QAAA;AAAA,iBAAA,OAAA;AAAA,iBAAA;AAAA,OAAA;;AACA,UAAA,KAAA,GAAA,IAAA,SAAA,EAAA;AACA,gBAAA,GAAA,CAAA,KAAA,GAAA;AAEA,aAAA,KAAA,CAAA,IAAA,CAAA,GAAA,EAAA,KAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA;AACA,cAAA,OAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,kBAAA,GAAA,GAAA,EAAA;AACA,kBAAA,MAAA;;AACA,kBAAA,aAAA;AAEA,WALA,MAKA;AACA,kBAAA,OAAA,IAAA,CAAA,GAAA;AACA;AACA,SAVA;AAWA,gBAAA,GAAA,CAAA,IAAA;AAAA;AACA,KAxBA;AAyBA,oBAzBA,8BAyBA;AAAA;;AACA,UAAA,MAAA,4BAAA,KAAA,GAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,gBAAA,GAAA,CAAA,MAAA;;AACA,YAAA,OAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,iBAAA,KAAA,GAAA,OAAA,IAAA,CAAA,GAAA,CAAA,CAAA,CAAA;AAEA,kBAAA,GAAA,CAAA,OAAA,KAAA;AAEA,SALA,MAKA;AACA,gBAAA,UAAA;AACA;AACA,OAVA;AAWA,KAtCA;AAuCA,iBAvCA,2BAuCA;AAAA;;AACA,UAAA,MAAA,8BAAA,KAAA,GAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,kBAAA;AACA,gBAAA,GAAA,CAAA,MAAA;;AACA,YAAA,OAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,iBAAA,OAAA,GAAA,OAAA,IAAA,CAAA,GAAA;;AACA,iBAAA,OAAA,CAAA,OAAA,GAFA,CAGA;;AACA;AACA,OAPA;AAQA;AAjDA,GAXA;AA8DA,SA9DA,qBA8DA;AACA,SAAA,aAAA;AACA,SAAA,gBAAA;AACA;AAjEA,CAAA","sourcesContent":["<template>\r\n<div class=\"app-comDetai\">  \r\n        <div class=\"Index2\">       \r\n            <div class=\"Index\">\r\n                    <div class=\"rtop\">\r\n                        <router-link to=\"/\"><span class=\"mui-icon mui-icon-undo\"></span></router-link>\r\n                        <span>mv568412</span>\r\n                        <a id=\"icon-more\"><span class=\"mui-icon mui-icon-more\"></span></a>\r\n                    </div>\r\n                    <div class=\"rcenter\">\r\n                        <video :poster=\"vlist.img_url\" controls class=\"rvideo\" lazy-load></video>\r\n                    </div>                    \r\n            </div>\r\n        </div>\r\n        <div class=\"rbottom\">\r\n            <mt-navbar v-model=\"selected\">\r\n                <mt-tab-item id=\"1\" >简介</mt-tab-item>\r\n                <mt-tab-item id=\"2\" >评论</mt-tab-item>\r\n            </mt-navbar>\r\n            <mt-tab-container v-model=\"selected\">\r\n                <mt-tab-container-item id=\"1\">\r\n                    <mt-cell  title=\"简单介绍一下吧\" /><div class=\"jianjie\">Just a quick overview!!!</div>            \r\n                </mt-tab-container-item>\r\n                <mt-tab-container-item id=\"2\">\r\n                    <mt-cell title=\"来看评论了\" />\r\n                        <ul class=\"com\">\r\n                            <li v-for=\"item in comList\" :key=\"item.id\">\r\n                                <img :src=\"item.userImg\" id=\"userimg\">\r\n                                <div class=\"ping\">\r\n                                <div class=\"us\"> \r\n                                    <span class=\"user\">{{item.userName}}</span>\r\n                                    <span class=\"mui-icon-extra mui-icon-extra-heart\"></span>\r\n                                </div>\r\n                                <p class=\"comment\">{{item.comment}}</p>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                </mt-tab-container-item>\r\n            </mt-tab-container> \r\n        </div> \r\n\r\n        <div class=\"rpinglun\">\r\n            <img src=\"../../img/say.png\" alt=\"\">\r\n            <input class=\"rinput\" type=\"text\" placeholder=\"说点什么吧...\" v-model=\"msg\">\r\n            <img src=\"../../img/send.png\" alt=\"\"  @click=\"postComment\">\r\n        </div>   \r\n</div>\r\n</template>\r\n<script>\r\nimport {Toast} from 'mint-ui'\r\n    export default {\r\n        data(){\r\n            return{\r\n                selected:'2',\r\n                rid:this.$route.params.rid,\r\n                vlist:{},\r\n                comList:[],\r\n                msg:\"\",\r\n                obj:{}\r\n            }\r\n        },\r\n        methods:{\r\n            postComment(){\r\n                var rid=this.rid;\r\n                console.log(rid);\r\n                var content=this.msg;\r\n                var userName=\"匿名用户\";\r\n                var userImg=\"http://127.0.0.1:8000/img/u18.jpg\";\r\n                var url=\"recommendlist/saveComment\";\r\n                this.obj={rid:rid,userName:userName,content:content,userImg:userImg};\r\n                if(this.obj!=undefined){\r\n                    console.log(this.obj)\r\n\r\n                this.$http.post(url,this.obj).then(result=>{\r\n                    //console.log(result);\r\n                    if(result.body.code==1){\r\n                        this.msg=\"\";\r\n                        Toast(\"添加成功\");\r\n                        this.getCommonList();                      \r\n                        \r\n                    }else{\r\n                        Toast(result.body.msg)\r\n                    }\r\n                })\r\n               console.log(1111);}\r\n            },\r\n             getRecommendlist(){\r\n                var url=\"recommendlist/list?rid=\"+this.rid;\r\n                this.$http.get(url).then(result=>{\r\n                    console.log(result);\r\n                    if(result.body.code==1){\r\n                        this.vlist=result.body.msg[0];\r\n                       \r\n                        console.log(this.vlist);\r\n                       \r\n                    }else{\r\n                        Toast(\"加载推荐列表失败\");\r\n                    }\r\n                })\r\n            },\r\n            getCommonList(){\r\n               var url=\"recommendlist/detail?rid=\"+this.rid;\r\n               this.$http.get(url).then(result=>{\r\n                 console.log(result);\r\n                if(result.body.code==1){\r\n                   this.comList=result.body.msg;\r\n                   this.comList.reverse()\r\n                //    this.comlist=this.comlist.unshift(result.body.msg);\r\n                }\r\n               })\r\n            }\r\n        },\r\n        created() {\r\n             this.getCommonList();\r\n             this. getRecommendlist();\r\n        },    \r\n        }\r\n</script>\r\n<style>\r\n/*video详情*/\r\n .app-comDetai{\r\n     background-color:#e6e2e2; \r\n     width: 100%;  \r\n} \r\n /* .Index2{\r\n     height:12rem;\r\n } */\r\n .Index{\r\n    z-index:99; \r\n    position: fixed;\r\n    top:0;\r\n    left: 0;\r\n    height:12rem;\r\n    clear:both;\r\n }\r\n .rtop{\r\n     width: 100%;\r\n     background-color: #FA7198;\r\n     line-height: 2;\r\n     display: flex;\r\n    justify-content: space-between;\r\n    color: #fff;\r\n   \r\n }\r\n .rtop>a{\r\n     color:#fff !important;\r\n }\r\n .rvideo{\r\n     width:100%;\r\n }\r\n\r\n /*简介*/\r\n .rbottom .jianjie{\r\n     font-size: 25px;\r\n     background-color:white;\r\n }\r\n /*\r\n 评论\r\n */\r\n .rbottom mt-tab-container mt-cell{\r\n     background-color: #c1c1c1;\r\n }\r\n .rbottom mt-navbar mt-tab-item{\r\n     font-size:16px;\r\n     color:grey !important;\r\n }\r\n .rbottom{\r\n     margin-top:12rem;\r\n }\r\n .rbottom .com{\r\n     list-style: none;\r\n     padding:0.5rem;\r\n }\r\n #userimg{     \r\n     width:4rem ;\r\n     height:4rem ;\r\n     border-radius: 50%;\r\n     margin-bottom: 0.5rem;\r\n }\r\n .rbottom li{\r\n     display: flex;\r\n     margin-bottom: 1rem;\r\n     border-bottom: 1px solid #c1c1c1;\r\n }\r\n .rbottom li .ping{\r\n      margin-left: 1rem;\r\n }\r\n .rbottom li .ping .us{\r\n     width:20rem;\r\n }\r\n .rbottom li .ping .mui-icon-extra {\r\n     color:#FA7198;\r\n     padding-left:70%; \r\n}\r\n .rbottom li .user{\r\n     color:#FA7198;\r\n     font-size: 15px;\r\n     font-family:'Microsoft Yahei';    \r\n }\r\n .rbottom li .comment{\r\n     margin-top:0.8rem;\r\n     font-size: 15px;\r\n     color:cornflowerblue;\r\n }\r\n/*底部发表评论*/\r\n.rpinglun{\r\n    position:fixed;\r\n    left:0;\r\n    bottom:0;\r\n    width: 100%;\r\n    display: flex;\r\n    background-color: white;\r\n}\r\n.rpinglun .rinput{\r\n    border:0;\r\n    border-bottom: 1px solid #FA7198;\r\n    font-size: 10px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src\\components\\recommend"}]}